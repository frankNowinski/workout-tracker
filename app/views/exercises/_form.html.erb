<% if @workout_plan.name.nil? %>
  <%= fields_for @workout_plan do |workout_plan| %>
    <p class="col-sm-12">
      <%= workout_plan.label 'Workout Plan Name:' %>
      <%= workout_plan.text_field :name, class: 'form-control' %>
    </p><br><br><br><br>
  <% end %>
<% end %>

<p><%= label_tag 'Select the muscle group you would like to create a workout for:' %></p>

<% if @exercise.errors.any? %>
  <div class="field_with_errors">
    <% @exercise.errors.full_messages.each do |msg| %>
      <p><%= msg %></p>
    <% end %>
  </div>
<% end %>

<p><%= f.collection_select :muscle_group_id, MuscleGroup.all, :id, :name, include_blank: 'Select' %>
</p><br>

<% if @exercise.errors.messages[:base].present? %>
  <div class="field_with_errors">
    <%= @exercise.errors.messages[:base].first %>
  </div><br>
<% end %>

<% 3.times do  %>
  <%= f.fields_for :workouts, @exercise.workouts.build do |workout_field| %>
      <div class="row">
        <div class="col-sm-6">
          <%= workout_field.label 'Workout: ' %>
          <%= workout_field.text_field :name, class: 'form-control' %>
        </div>

        <div class="col-sm-3">
          <%= workout_field.label 'Sets: ' %>
          <%= workout_field.number_field :sets, min: 1, max: 10, class: 'form-control' %>
        </div>

        <div class="col-sm-3">
          <%= workout_field.label 'Reps: ' %>
          <%= workout_field.number_field :reps, min: 1, max: 30, class: 'form-control' %><br>
        </div>
      </div>
  <% end %>
<% end %>
